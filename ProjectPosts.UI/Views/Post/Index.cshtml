@{
    ViewData["Title"] = "POSTS";
}

<div class="text-dark m-2 p-2 container">
        <h1>Publicaciones</h1>
            <div id="postContainer" class="m-4 p-3">
                
            </div>
    </div>

@section Scripts{
   
    <script>
        $(document).ready(() =>{
           getPosts();
        })

        urlGet = "@Url.Content("~/Post/List")";
        
        function getPosts(){
            //fetch("Home/GetCommentReplies?Id_parent_comment="+parentCommentId)
            
            fetch("Post/List")
                .then(response => response.text())
                .then(html => {
                    document.getElementById("postContainer").innerHTML = html;
                })
                .catch(error => {
                    console.error('Error:', error);
                });
        }

        $("#postContainer").on("click", ".btn-like", function(){
            var xd = $(this).data("postid")
            var model = $(this).data("model")

            console.log(model.where(p=>p.postId == xd))
        })


    </script>
}